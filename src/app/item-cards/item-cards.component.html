<div class="centered">
    <span *ngIf="isAdmin()">
        ( {{checkedItems.length}} selected )
    </span>
    <div class="list">
        <ng-container *ngFor="let item of (items | 
        slice: lowValue : highValue); index as i">
            <div class="item-card">
                <div class="centered" >
                    <ng-container *ngIf="isAdmin(); else user">
                        <input class="form-check-input" type="checkbox" value="" (change)="checkboxSelect(item, $event)"
                            id="flexCheckDefault">
                    </ng-container>
                    <ng-template #user>
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" [attr.fill]="saveColorItem(item)"
                            class="bi bi-balloon-heart save-btn" viewBox="0 0 16 16" (click)="saved(item)">
                            <path fill-rule="evenodd"
                                d="m8 2.42-.717-.737c-1.13-1.161-3.243-.777-4.01.72-.35.685-.451 1.707.236 3.062C4.16 6.753 5.52 8.32 8 10.042c2.479-1.723 3.839-3.29 4.491-4.577.687-1.355.587-2.377.236-3.061-.767-1.498-2.88-1.882-4.01-.721L8 2.42Zm-.49 8.5c-10.78-7.44-3-13.155.359-10.063.045.041.089.084.132.129.043-.045.087-.088.132-.129 3.36-3.092 11.137 2.624.357 10.063l.235.468a.25.25 0 1 1-.448.224l-.008-.017c.008.11.02.202.037.29.054.27.161.488.419 1.003.288.578.235 1.15.076 1.629-.157.469-.422.867-.588 1.115l-.004.007a.25.25 0 1 1-.416-.278c.168-.252.4-.6.533-1.003.133-.396.163-.824-.049-1.246l-.013-.028c-.24-.48-.38-.758-.448-1.102a3.177 3.177 0 0 1-.052-.45l-.04.08a.25.25 0 1 1-.447-.224l.235-.468ZM6.013 2.06c-.649-.18-1.483.083-1.85.798-.131.258-.245.689-.08 1.335.063.244.414.198.487-.043.21-.697.627-1.447 1.359-1.692.217-.073.304-.337.084-.398Z" />
                        </svg>
                    </ng-template>
                    <div class="image" (click)="showDialog(item)">
                        <img [src]="item.base64Image" id="image_item" class="img" (click)="showDialog(item)">
                    </div>
                </div>
                <div (click)="showDialog(item)" class="content-card">
                    <br>
                    <div class="title"> {{item.title}} </div>
                    
                    <div class="price">
                        <strong>{{item.price}} &euro;</strong>
                    </div>
                    <div class="seller">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                            <path
                                d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z" />
                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                        </svg>
                        {{item.username}}
                    </div>
                    <div class="date"> {{item.date}}</div>
                </div>
            </div>
        </ng-container>
    </div>
    <!--
<div class="page-index">
        &#60;
        1 2 3 4
        &#62;
    </div>
    -->

</div>
<ng-container *ngIf="isAdmin()">

    <div class="list-btn">
        <button class="btn decline" (click)="declineSelected();reload()" [disabled]="checkedItems.length == 0">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg"
                viewBox="0 0 16 16">
                <path
                    d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
            </svg>
            Decline
        </button>
        <button class="btn accept" (click)="acceptSelected();reload()" [disabled]="checkedItems.length == 0">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg"
                viewBox="0 0 16 16">
                <path
                    d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
            </svg>
            Accept
        </button>
    </div>
</ng-container>
<div class="paginator">
    <app-paginator [items]="items" [pageSize]="8" (outLowValue)="lowValue = $event"
    (outHighValue)="highValue = $event"></app-paginator>
</div>



<p-dialog [header]="'Details of item'" [(visible)]="display" [style]="{
    width: '65%', 
    height: 'auto%', 
    backgroundColor: '#ffa4a4', 
    borderRadius:'10px',
    padding : '10px'
    }
    " [dismissableMask]="true" [modal]="true" [draggable]="false">
    <div class="content">
        <div class="centered">
            <h2>{{selectedItem.title}}</h2>
            <img [src]="selectedItem.base64Image" class="img_modal">
        </div>
        <div class="description">
            <p> <span style="text-decoration: underline;">Description :</span> {{selectedItem.description}}</p>
        </div>
        <div class="price">
            <strong>{{selectedItem.price}} &euro;</strong>
        </div>

        <div class="seller">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                <path
                    d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z" />
                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
            </svg>
            {{selectedItem.username}}
        </div>

        <div class="date">
            {{selectedItem.date}}
        </div>

        <div class="centered">
            <ng-container *ngIf="isAdmin(); else notAdmin">
                <div class="list-btn">
                    <button class="btn decline" (click)="decline(selectedItem);reload()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-x-lg" viewBox="0 0 16 16">
                            <path
                                d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
                        </svg>
                        Decline
                    </button>
                    <button class="btn accept" (click)="accept(selectedItem);reload()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-check-lg" viewBox="0 0 16 16">
                            <path
                                d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z" />
                        </svg>
                        Accept
                    </button>
                </div>
            </ng-container>
            <ng-template #notAdmin>
                <button class="btn" (click)="buy(selectedItem)">Buy</button>
            </ng-template>

        </div>

    </div>
</p-dialog>